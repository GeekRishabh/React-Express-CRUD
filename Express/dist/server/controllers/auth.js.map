{"version":3,"sources":["server/controllers/auth.js"],"names":["config","require","login","req","res","next","userObj","email","body","findOneAsync","then","user","err","NOT_FOUND","comparePassword","password","passwordError","isMatch","UNAUTHORIZED","token","sign","jwtSecret","findOneAndUpdateAsync","_id","$set","new","updatedUser","returnObj","success","message","data","jwtAccessToken","json","error","err123","INTERNAL_SERVER_ERROR","e","logout","undefined","console","log","findOneAndUpdate","userDoc","getRandomNumber","num","Math","random"],"mappings":"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","file":"auth.js","sourceRoot":"../../../../.."}